<!DOCTYPE html>
<html lang="en">

<head>
    <title>Componentes</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
        rel='stylesheet' type='text/css'>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/lightbox/dist/ekko-lightbox.min.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">

</head>

<body class="body-pink">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                            <span class="text-highlight">Capivara</span>
                            <span class="text-bold">JS</span>
                        </a>
                    </h1>
                </div>
                <!--//branding-->
                <ol class="breadcrumb">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li class="active">Componentes</li>
                </ol>
            </div>
            <!--//container-->
        </header>
        <!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title">
                        <span aria-hidden="true" class="icon icon_puzzle_alt"></span> Componentes</h1>
                    <div class="meta">
                        <i class="fa fa-clock-o"></i> Última atualização: Março 8th, 2018</div>
                </div>
                <!--//doc-header-->
                <div class="doc-body">
                    <div class="doc-content">
                        <div class="content-inner">
                            <section id="components" class="doc-section">
                                <h2 class="section-title">Componentes</h2>
                                <div id="createcomponent">
                                    <h3>Criando componentes</h3>
                                    <div class="section-block">
                                        <p>Vamos aprender agora como registrar um componente CapivaraJS.</p>
                                        Para registrar um componente, você pode usar
                                        <b>capivara.component(tagName, options)</b>. Por exemplo:
                                        <br>
                                        <div class="language-javascript">
                                            <pre class="section-block"><code>capivara.component('my-component', {
    template: '&lt;div&gt;Uhaau! Esse é meu primeiro componente.&lt;/div&gt;'
})</code></pre>
                                        </div>
                                        <label class="warning" style="font-size: 11px; color:#ab831b">Note que o CapivaraJS não impõe as regras do W3C para nomes de etiquetas personalizadas
                                            (tudo-minúsculo, deve conter um hífen), embora seguir esta convenção é considerada
                                            boa prática.</label>
                                        <br>
                                        <br> Uma vez registrado, o componente já pode ser usado, para isso é necessário declara-lo
                                        com um marcador
                                        <b>(#meuMarcador)</b>. Por exemplo:
                                        <br>
                                        <pre><span class="pre-type"></span><code class="language-markup">&lt;my-component #meuMarcador&gt;&lt;/my-component&gt;</code></pre>
                                        <br> Quando um componente é declarado, ele ainda não é iniciado, é através do marcador
                                        que vamos iniciar o componente. Exemplo:
                                        <pre><span class="pre-type"></span><code class="language-javascript">capivara.componentBuilder('meuMarcador').build();</code></pre>
                                        <br> O resultado final seria:
                                        <br>
                                        <div class="result-demo">
                                            <div>Uhaau! Esse é meu primeiro componente.</div>
                                        </div>
                                    </div>
                                </div>
                                <br>
                                <!-- first topic -->
                                <div id="configobject">
                                    <h3 class="block-title">Objeto de configuração</h3>
                                    <p>O objeto configuração é responsável pela criação do seu componente, é nele que será definido
                                        as variáveis que serão aceitas, o template e controlador do mesmo. Exemplo:</p>
                                    <pre><span class="pre-type"></span><code class="language-javascript">const options = {
    template  : STRING,
    constants : ARRAY,
    functions : ARRAY,
    bindings  : ARRAY,
    controller: FUNCTION
}
capivara.component('my-component', options)</code></pre>
                                    <br>
                                    <p>O exemplo acima mostra o formato do objeto de configuração, mas para entende-lo, vamos
                                        analisar individualmente suas propriedades.</p>
                                    <table class="table table-striped">
                                        <tr>
                                            <td>
                                                <b>[template]</b>
                                            </td>
                                            <td>
                                                É aqui que será definido todo HTML do componente.
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <b>[constants]</b>
                                            </td>
                                            <td>
                                                Definição das constantes que o componente aceitará, constantes são parâmetros sem referência.
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <b>[functions]</b>
                                            </td>
                                            <td>
                                                Funções de "callback" que o componente aceitará.
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <b>[bindings]</b>
                                            </td>
                                            <td>
                                                Defini os parâmetros que o componente aceitará, se um parâmetro é definido como binding, toda a alteração feita pelo componente
                                                será refletido no contexto do parâmetro, em outras palavras, o binding mantém
                                                a referência.
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <b>[controller]</b>
                                            </td>
                                            <td>
                                                Através dessa propriedade é possível receber o escopo do seu componente, fazendo do mesmo as funcionalidades do seu componente.
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <div id="constants">
                                    <h3 class="block-title">Constantes</h3>
                                    <p>As constantes são parâmetros que você informa para um componente, o valor do parâmetro
                                        é lido apenas uma vez, então toda alteração do valor não será refletida no componente.
                                    </p>
                                    <p>Para entendermos como passar um parâmetro do tipo constante para um componente, vamos
                                        criar um exemplo onde passaremos uma constante com o nome de
                                        <b>titulo</b>.</p>

                                    Primeiro, temos que informar o componente que iremos passar uma constante com o nome
                                    <b>titulo</b>.
                                    <pre><span class="pre-type"></span><code class="language-javascript">capivara.component('my-component', {
    template: '&lt;div&gt;&lt;/div&gt;',
    constants: ['titulo']
});</code></pre>
                                    <br>
                                    <p>
                                        A partir de agora, o componente já está preparado para receber sua constante, como pode ser visto abaixo, o código HTML não
                                        sofre alterações.
                                    </p>

                                    <pre><span class="pre-type"></span><code class="language-markup">&lt;my-component #meuMarcador&gt;&lt;/my-component&gt;</code></pre>
                                    <br>
                                    <p>Você pode passar o valor da sua constante na inicialização do componente.</p>
                                    <pre><span class="pre-type"></span><code class="language-javascript">capivara.componentBuilder('meuMarcador')
    .constants({
        titulo: 'Meu incrível titulo'
    }).build();</code></pre>
                                    <br>
                                    <p>Pronto, sua constante foi passada para o componente, toda constante está disponível na
                                        propriedade
                                        <b>$constants</b> do seu escopo, por exemplo:</p>
                                    <pre><span class="pre-type"></span><code class="language-javascript">capivara.component('my-component', {
    template: '&lt;div&gt;&lt;/div&gt;',
    constants: ['titulo'],
    controller: function(){
        const $ctrl = this;

        $ctrl.$onInit = function(){
            console.log($ctrl.$constants.titulo);
        }

    }
});</code></pre>
                                </div>
                                <br>
                                <!-- second topic -->
                                <div id="functions">
                                    <h3 class="block-title">Funções</h3>
                                    <p>As funções são parâmetros que você informa para um componente, são utilizadas quando
                                        o componente quer export ações de "callback".</p>
                                    <p>Para entendermos como funciona as funções do componente, vamos criar um exemplo onde
                                        passaremos uma função chamada
                                        <b>onClickButton</b>, que será executada quando o usuário clicar no botão disponível
                                        do componente.</p>

                                    Primeiro, temos que informar o componente que iremos receber uma função com o nome
                                    <b>onClickButton</b>.
                                    <pre><span class="pre-type"></span><code class="language-javascript">capivara.component('my-component', {
    template: '',
    functions: ['onClickButton']
});</code></pre>
                                    <br>
                                    <p>
                                        Perceba que seu código HTML não sofre alterações
                                    </p>
                                    <pre><span class="pre-type"></span><code class="language-markup">&lt;my-component #meuMarcador&gt;&lt;/my-component&gt;</code></pre>
                                    <br>
                                    <p>O componente está preparado para receber nossa função, pode passa-la na inicialização
                                        do componente</p>
                                    <pre><span class="pre-type"></span><code class="language-javascript">capivara.componentBuilder('meuMarcador')
    .functions({
        onClickButton: function(){
            console.log('Uhaau! Funcionou!!!');
        }
    }).build();</code></pre>
                                    <br>
                                    <p>Pronto, sua função foi passada para o componente, toda função está disponível na propriedade
                                        <b>$functions</b> do seu escopo, e basta apenas executa-la, por exemplo:</p>
                                    <pre><span class="pre-type"></span><code class="language-javascript">capivara.component('my-component', {
    template: '&lt;button type="button" cp-click="$functions.onClickButton()"&gt;Clique-me&lt;/button&gt;',
    functions: ['onClickButton'],
    controller: function(){
        const $ctrl = this;
    }
});</code></pre>
                                    <p>Perceba que no exemplo acima usamos a diretiva
                                        <b>cp-click</b> a documentação dela será vista depois.</p>
                                </div>
                                <br>
                                <!-- third topic -->
                                <div id="bindings">
                                    <h3 class="block-title">Bindings</h3>
                                    <p>Os bindings são parâmetros que você informa para um componente, você deve utilizar binding
                                        quando quiser que o componente mantenha a referência do parâmetro, em outras palavras
                                        toda alteração de valor feita pelo componente será aplicado no seu parâmetro, assim
                                        como toda alteração feita no valor do parâmetro será refletido no componente.</p>
                                    <p>Para entendermos como funciona os bindings do componente, vamos criar um exemplo onde
                                        iremos simular um objeto chamado
                                        <b>pessoa</b> e nosso componente irá alterar o
                                        <b>nome</b> dessa pessoa.
                                        <br>
                                        <br> Primeiro, temos que informar o componente que iremos receber um parâmetro do tipo
                                        binding chamado
                                        <b>nome</b>.
                                        <pre><span class="pre-type"></span><code class="language-javascript">capivara.component('my-component', {
    template: '',
    bindings: ['nome']
});</code></pre>
                                        <br>
                                        <p>
                                            É sempre valido reforçar o fato de que seu código HTML não sofre alterações
                                        </p>

                                        <pre><span class="pre-type"></span><code class="language-markup">&lt;my-component #meuMarcador&gt;&lt;/my-component&gt;</code></pre>
                                        <br>
                                        <p>O componente está preparado para receber nosso parâmetro, precisamos informa-lo na
                                            inicialização do componente, é necessário informar seu contexto atual, para que
                                            o componente possa atualiza-lo quando uma alteração acorrer.</p>
                                        <pre><span class="pre-type"></span><code class="language-javascript">let pessoa = { nome: 'Mateus' };
capivara.componentBuilder('meuMarcador')
        .context(pessoa)
        .bindings({
            nome: 'nome'
        }).build();</code></pre>
                                        <br>
                                        <p>Perceba que quando declaramos nosso binding, colocamos o nome do atributo que está
                                            no contexto, fazendo assim que a refêrencia entre os escopos seja criada.</p>
                                        <pre><span class="pre-type"></span><code class="language-javascript">capivara.component('my-component', {
    template: '&lt;input type="text" cp-model="$bindings.nome"/&gt;',
    bindings: ['nome'],
    controller: function(){
        const $ctrl = this;
    }
});</code></pre>
                                        <p>Perceba que no exemplo acima usamos a diretiva
                                            <b>cp-model</b> a documentação dela será vista depois.</p>
                                </div>
                                <br>
                                <!-- fourth topic -->
                                <div id="interpolation">
                                    <h3 class="block-title">Interpolação</h3>
                                    <p>A interpolação é usada pelo CapivaraJS para fornecer vinculação de dados para os elementos
                                        HTML.
                                    </p>
                                    <p>Para compreendermos a interpolação, vamos criar um exemplo onde será apresentado em um
                                        elemento
                                        <b>h1</b> a soma de dois números do nosso escopo.</p>
                                    <pre><span class="pre-type"></span><code class="language-javascript">capivara.component('my-component', {
    template: `
        &lt;h1&gt;Soma: [[ $ctrl.numero1 + $ctrl.numero2 ]]&lt;/h1&gt;
    `,
    controller: function(){
        const $ctrl = this;

        $ctrl.numero1 = 10;
        $ctrl.numero2 = 15;
    }
});</code></pre>
                                    <br> O resultado final seria:
                                    <br>
                                    <div class="result-demo">
                                        <h1>Soma: 25</h1>
                                    </div>
                                </div>
                                <!--//doc-section-->
                        </div>
                        <!--//content-inner-->
                    </div>
                    <!--//doc-content-->
                    <div class="doc-sidebar">
                        <nav id="doc-nav">
                            <ul id="doc-menu" class="nav doc-menu hidden-xs" data-spy="affix">
                                <li>
                                    <a class="scrollto" href="#components">Componentes</a>
                                    <ul class="nav doc-sub-menu">
                                        <li>
                                            <a class="scrollto" href="#createcomponent">Criando um componente</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#configobject">Objeto de configuração</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#constants">Constantes</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#functions">Funções</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#bindings">Bindings</a>
                                        </li>
                                        <li>
                                            <a class="scrollto" href="#interpolation">Interpolação</a>
                                        </li>
                                    </ul>
                                    <!--//nav-->
                                </li>
                            </ul>
                            <!--//doc-menu-->
                        </nav>
                    </div>
                    <!--//doc-sidebar-->
                </div>
                <!--//doc-body-->
            </div>
            <!--//container-->
        </div>
        <!--//doc-wrapper-->

        <div id="promo-block" class="promo-block promo-block-2">
            <div class="container">
                <div class="promo-block-inner">
                    <h3 class="promo-title text-center">
                        <i class="fa fa-heart"></i>
                        <a href="index.html">CapivaraJS Developer Guide</a>
                    </h3>
                    <div class="row">
                        <div class="figure-holder col-md-5 col-sm-6 col-xs-12">
                            <img class="img-responsive" src="assets/images/capivara-texto-branco.png" height="300" width="300" style="margin-left: 75px; margin-top:-50px;"/>
                        </div>
                        <!--//figure-holder-->
                        <div class="content-holder col-md-7 col-sm-6 col-xs-12">
                            <div class="content-holder-inner">
                                <div class="desc">
                                    <h4 class="content-title">
                                        <strong>Funções, Eventos e Diretivas</strong>
                                    </h4>
                                    <p> Na próxima sessão iremos mostrar:</p>
                                    <ul>
                                        <li>Declaração e utilização de funções</li>
                                        <li>Como disparar e utilizar eventos</li>
                                        <li>Utilização de diretivas</li>
                                    </ul>
                                    <p>Tudo isso dentro do seu componente.</p>
                                    <p> Por isso
                                        <a href="apiReference.html">Clique aqui</a> para continuar.</p>
                                </div>
                                <!--//desc-->
                            </div>
                            <!--//content-holder-inner-->
                        </div>
                        <!--//content-holder-->
                    </div>
                    <!--//row-->
                </div>
                <!--//promo-block-inner-->
            </div>
            <!--//container-->
        </div>
        <!--//promo-block-->

    </div>
    <!--//page-wrapper-->

    <footer id="footer" class="footer text-center">
        <div class="container">
            <small class="copyright">Desenvolvido
                <i class="fa fa-heart"></i> por
                <a href="https://github.com/CapivaraJS/capivarajs" target="_blank">CapivaraJS</small>

        </div>
        <!--//container-->
    </footer>
    <!--//footer-->

    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/prism.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/lightbox/dist/ekko-lightbox.min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-match-height/jquery.matchHeight-min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>

</body>

</html>